

{% extends "layouts/employee_base.html" %}

{% block page_title %} Schedule Meetings {% endblock %}

{% block head_extra %}
  <link rel="stylesheet" href="{{ url_for('static', filename='client_crm_meet.css') }}">
  <style>
    /* Meeting form card styling (matches CRM visuals) */
    .crm-form-card{
      max-width: 820px;
      margin: 0 auto;
    }
    .crm-form-card .form-title{
      margin: 0 0 14px;
      font-size: 20px;
      font-weight: 800;
      color: #1e3a5f;
    }
    .meeting-card{
      background: #ffffff;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      padding: 22px;
    }
    .meeting-grid{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin-top: 10px;
    }
    .meeting-grid .full{
      grid-column: 1 / -1;
    }
    .meeting-field label{
      display: block;
      font-weight: 700;
      color: #0b3a53;
      margin-bottom: 6px;
      font-size: 13px;
    }
    .meeting-field input,
    .meeting-field select,
    .meeting-field textarea{
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #cfd9df;
      outline: none;
      font-size: 14px;
      background: #fff;
    }
    .meeting-field textarea{ resize: vertical; min-height: 110px; }
    .meeting-actions{
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 16px;
    }
    .meeting-actions .btn{
      padding: 10px 16px;
      border-radius: 10px;
      font-weight: 700;
    }
    .meeting-actions .btn-primary{
      background: #0b3a53;
      border: none;
      color: #fff;
    }
    .meeting-actions .btn-secondary{
      background: #e5e7eb;
      border: none;
      color: #111827;
    }
  </style>
{% endblock %}

{% block content %}
<div class="crm-page">
    <div class="crm-form-card">
        <div class="meeting-card">
          <div class="crm-topbar" style="margin-bottom: 6px;">
            <div class="crm-title" style="font-size: 22px;">Schedule New Meeting</div>
          </div>

          <form method="POST" action="{{ url_for('employee_add_meeting') }}">
            <div class="meeting-grid">
              <div class="meeting-field full">
                <label>Client*</label>
                <select name="client_name" required>
                  {% for c in customers %}
                    <option value="{{ c.name }}">{{ c.name }}</option>
                  {% endfor %}
                </select>
              </div>

              <div class="meeting-field">
                <label>Date*</label>
                <input type="date" name="meeting_date" required>
              </div>

              <div class="meeting-field">
                <label>Time*</label>
                <input type="time" name="meeting_time" required>
              </div>

              <div class="meeting-field full">
                <label>Purpose</label>
                <textarea name="purpose" rows="4" placeholder="Short purpose / agenda..."></textarea>
              </div>
            </div>

            <div class="meeting-actions">
              <a href="{{ url_for('employee_crm_meetings') }}" class="btn btn-secondary">Cancel</a>
              <button type="submit" class="btn btn-primary">Schedule</button>
            </div>
          </form>
        </div>
    </div>
</div>
{% endblock %}